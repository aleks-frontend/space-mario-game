{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/img/background.png","webpack:///./src/img/hills.png","webpack:///./src/img/platform.png","webpack:///./src/img/platformSmallTall.png","webpack:///./src/img/spriteRunLeft.png","webpack:///./src/img/spriteRunRight.png","webpack:///./src/img/spriteStandLeft.png","webpack:///./src/img/spriteStandRight.png","webpack:///./src/js/canvas.js"],"names":["canvas","document","querySelector","c","getContext","width","height","gravity","platformsOffset","lastKey","createImage","imageSrc","image","Image","src","keys","left","pressed","right","Player","x","y","color","speed","position","velocity","frame","sprites","stand","spriteStandLeft","spriteStandRight","cropWidth","run","spriteRunLeft","spriteRunRight","currentSprite","currentCropWidth","currentWidth","drawImage","draw","Platform","GenericImage","platformImage","platformBg","platformSmallTallImage","platformSmallTallBg","floorPlatformYPos","player","platforms","genericImages","winLocation","init","bodyBg","hillsBg","animate","requestAnimationFrame","clearRect","fillStyle","fillRect","forEach","genericImage","platform","update","playerIsAboveOrExactlyOnPlatform","playerRightSideIsFurtherThanPlatformStart","frames","console","log","KEYCODES","a","s","d","w","up","down","window","addEventListener","keyCode"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/canvas.js\");\n","export default __webpack_public_path__ + \"072d51bcc9c09311d4c2a6708b05bddc.png\";","export default __webpack_public_path__ + \"cfffe4c371f5e11d372b398a87c51dd0.png\";","export default __webpack_public_path__ + \"ffab39d3487de561be1a081fcfb3806d.png\";","export default __webpack_public_path__ + \"0587f9be8e442eb74b2fe283bbf1a947.png\";","export default __webpack_public_path__ + \"c67ea51444aafa9bdcd5bdfd4f4a55bb.png\";","export default __webpack_public_path__ + \"a2f75989924952a7e49ce0405d487c93.png\";","export default __webpack_public_path__ + \"11514f48f22f6d8e3cf748e45e3e1ffb.png\";","export default __webpack_public_path__ + \"01e8f15e899155c68950c40e0a6b8df0.png\";","import bodyBg from '../img/background.png';\nimport hillsBg from '../img/hills.png';\nimport platformBg from '../img/platform.png';\nimport platformSmallTallBg from '../img/platformSmallTall.png';\nimport spriteStandRight from '../img/spriteStandRight.png';\nimport spriteStandLeft from '../img/spriteStandLeft.png';\nimport spriteRunRight from '../img/spriteRunRight.png';\nimport spriteRunLeft from '../img/spriteRunLeft.png';\n\nconst canvas = document.querySelector('canvas');\nconst c = canvas.getContext('2d');\n\ncanvas.width = 1024;\ncanvas.height = 578;\n\nconst gravity = 1.5;\nlet platformsOffset;\nlet lastKey;\n\nconst createImage = (imageSrc) => {\n  const image = new Image();\n  image.src = imageSrc;\n\n  return image;\n};\n\nconst keys = {\n    left: {\n        pressed: false\n    },\n    right: {\n        pressed: false\n    }\n};\n\nclass Player {\n    constructor(x, y, width, height, color) {\n        this.speed = 10\n        this.position = { x, y }\n        this.velocity = {\n            x: 0,\n            y: 0\n        }\n        this.width = width\n        this.height = height\n        this.color = color\n        this.frame = 0\n        this.sprites = {\n          stand: {\n            left: createImage(spriteStandLeft),\n            right: createImage(spriteStandRight),\n            cropWidth: 177,\n            width: 39\n          },\n          run: {\n            left: createImage(spriteRunLeft),\n            right: createImage(spriteRunRight),\n            cropWidth: 341,\n            width: 76.725\n          }\n        }\n        this.currentSprite = this.sprites.stand.right\n        this.currentCropWidth = this.sprites.stand.cropWidth\n        this.currentWidth = this.sprites.stand.width\n    }    \n\n    draw() {\n        c.drawImage(\n          this.currentSprite,\n          this.frame * this.currentCropWidth,\n          0,\n          this.currentCropWidth,\n          400,\n          this.position.x,\n          this.position.y,\n          this.currentWidth,\n          this.height\n        )\n    }\n\n    update() {\n        this.draw();\n        this.position.y += this.velocity.y\n        this.position.x += this.velocity.x\n        this.frame = this.frame < 29 ? (this.frame + 1) : 0;\n\n        if ((this.position.y + this.height + this.velocity.y + gravity) <= canvas.height) {\n            this.velocity.y += gravity;\n        }\n    }\n}\n\nclass Platform {\n    constructor({x, y, image}) {\n        this.position = {\n            x,\n            y,\n            image\n        },\n        this.image = image\n        this.width = image.width,\n        this.height = image.height\n    }\n\n    draw() {\n        c.drawImage(this.image, this.position.x, this.position.y)\n    }\n}\n\nclass GenericImage {\n  constructor({x, y, image}) {\n      this.position = {\n          x,\n          y,\n          image\n      },\n      this.image = image\n      this.width = image.width,\n      this.height = image.height\n  }\n\n  draw() {\n      c.drawImage(this.image, this.position.x, this.position.y)\n  }\n}\n\nconst platformImage = createImage(platformBg);\nconst platformSmallTallImage = createImage(platformSmallTallBg);\n\nconst floorPlatformYPos = canvas.height - platformImage.height;\nlet player;\nlet platforms;\nlet genericImages;\nlet winLocation;\n\nconst init = () => {\n  player = new Player(100, 100, 76, 90, 'red');\n  winLocation = platformImage.width * 4 + 500;\n  platformsOffset = 0;\n  platforms = [\n    new Platform({x: -1, y: floorPlatformYPos, image: platformImage}), \n    new Platform({x: platformImage.width * 4 + 98 - platformSmallTallImage.width, y: 250, image: platformSmallTallImage}),\n    new Platform({x: platformImage.width - 3, y: floorPlatformYPos, image: platformImage}),\n    new Platform({x: platformImage.width * 2 + 100, y: floorPlatformYPos, image: platformImage}),\n    new Platform({x: platformImage.width * 3 + 98, y: floorPlatformYPos, image: platformImage}),\n    new Platform({x: winLocation, y: floorPlatformYPos, image: platformImage}),\n  ];\n  genericImages = [\n    new GenericImage({\n      x: -1,\n      y: -1,\n      image: createImage(bodyBg)\n    }),\n    new GenericImage({\n      x: -1,\n      y: -1,\n      image: createImage(hillsBg)\n    })\n  ];\n}\n\nconst animate = () => {\n    requestAnimationFrame(animate);\n    c.clearRect(0, 0, canvas.width, canvas.height);\n    c.fillStyle = 'white';\n    c.fillRect(0, 0, canvas.width, canvas.height);\n    genericImages.forEach(genericImage => {\n      genericImage.draw();\n    });\n    platforms.forEach(platform => {\n      platform.draw();\n    })\n    player.update();\n    \n    if (keys.right.pressed && player.position.x < 400) {\n        player.velocity.x = player.speed;\n    } else if ((keys.left.pressed && player.position.x > 100) ||\n    (keys.left.pressed && platformsOffset === 0 && player.position.x > 0)) {\n        player.velocity.x = -player.speed;\n    } else {\n        player.velocity.x = 0;\n        if (keys.right.pressed) {\n            platformsOffset += player.speed;\n            platforms.forEach(platform => {\n                platform.position.x -= player.speed;\n            });\n\n            genericImages.forEach(genericImage => {\n              genericImage.position.x -= player.speed * 0.66;\n            });\n        }\n\n        if (keys.left.pressed && platformsOffset > 0) {\n            platformsOffset -= player.speed;\n            platforms.forEach(platform => {\n                platform.position.x += player.speed;\n            });\n\n            genericImages.forEach(genericImage => {\n              genericImage.position.x += player.speed * 0.66;\n            });\n        }\n    }\n    \n    // platform collision detection\n    platforms.forEach(platform => {\n        const playerIsAboveOrExactlyOnPlatform = player.position.y + player.height <= platform.position.y;\n        const playerRightSideIsFurtherThanPlatformStart = player.position.x + player.width > platform.position.x;\n        \n        if (playerIsAboveOrExactlyOnPlatform && \n            player.position.y + player.height + player.velocity.y >= platform.position.y &&\n            playerRightSideIsFurtherThanPlatformStart &&\n            player.position.x < platform.position.x + platform.width) {\n            player.velocity.y = 0;\n        }\n    })\n\n    // sprite toggling ?\n    if (keys.right.pressed && lastKey === 'right' && player.currentSprite !== player.sprites.run.right) {\n      player.currentSprite = player.sprites.run.right;\n      player.currentCropWidth = player.sprites.run.cropWidth\n      player.currentWidth = player.sprites.run.width\n      player.frames = 1;\n    } else if (keys.left.pressed && lastKey === 'left' && player.currentSprite !== player.sprites.run.left) {\n      player.currentSprite = player.sprites.run.left;\n      player.currentCropWidth = player.sprites.run.cropWidth\n      player.currentWidth = player.sprites.run.width\n      player.frames = 1;\n    } else if (!keys.left.pressed && lastKey === 'left' && player.currentSprite !== player.sprites.stand.left) {\n      player.currentSprite = player.sprites.stand.left;\n      player.currentCropWidth = player.sprites.stand.cropWidth\n      player.currentWidth = player.sprites.stand.width\n      player.frames = 1;\n    } else if (!keys.right.pressed && lastKey === 'right' && player.currentSprite !== player.sprites.stand.right) {\n      player.currentSprite = player.sprites.stand.right;\n      player.currentCropWidth = player.sprites.stand.cropWidth\n      player.currentWidth = player.sprites.stand.width\n      player.frames = 1;\n    }\n\n    // Win condition\n    if (platformsOffset > winLocation - 400) {\n        console.log('You won!!!')\n    }\n\n    // Lose condition\n    if (player.position.y > canvas.height) {\n      init();\n    }\n}\n\ninit();\nanimate();\n\nconst KEYCODES = {\n    a: 65,\n    s: 83,\n    d: 68,\n    w: 87,\n    right: 39,\n    left: 37,\n    up: 38,\n    down: 40\n};\n\nwindow.addEventListener('keydown', ({ keyCode }) => {\n    switch (keyCode) {\n        case KEYCODES.left:\n            keys.left.pressed = true;\n            lastKey = 'left';\n            \n            break;\n        case KEYCODES.down:\n            player.velocity.y += 0;\n            break;\n        case KEYCODES.right:\n            keys.right.pressed = true;\n            lastKey = 'right';\n            \n            break;\n        case KEYCODES.up:\n            if (player.velocity.y === 0) {\n              player.velocity.y -= 30;\n            }\n            break;\n    }\n});\n\nwindow.addEventListener('keyup', ({ keyCode }) => {\n    switch (keyCode) {\n        case KEYCODES.left:\n            keys.left.pressed = false;\n            break;\n        case KEYCODES.down:\n            player.velocity.y = 0;\n            break;\n        case KEYCODES.right:\n            keys.right.pressed = false;\n            break;\n    }\n});\n"],"sourceRoot":""}